"use strict";(self.webpackChunkshopify_e_commerce=self.webpackChunkshopify_e_commerce||[]).push([[99],{8099:(O,u,i)=>{i.r(u),i.d(u,{ForgotpasswordComponent:()=>L});var p=i(6814),r=i(6223),l=i(2296),m=i(9157),d=i(617),g=i(2032),_=i(1545),e=i(5879),E=i(6402),T=i(2548),Z=i(6261);function I(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Please enter you email"),e.qZA())}function B(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Email is invalid"),e.qZA())}function b(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Please enter the reset code"),e.qZA())}function A(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Please enter you email"),e.qZA())}function F(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Email is invalid"),e.qZA())}function S(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Please enter you new password"),e.qZA())}function U(o,n){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"New password is invalid"),e.qZA())}let L=(()=>{var o;class n{constructor(a,t,s){this._AuthenticationService=a,this._LoadingService=t,this._Router=s,this.currentStep=0,this.hide=!0,this.isEmailCompleted=!1,this.isCodeCompleted=!1,this.isPasswordCompleted=!1,this.userEmail="",this.emailForm=new r.cw({email:new r.NI(null,[r.kI.required,r.kI.email])}),this.codeForm=new r.cw({resetCode:new r.NI(null,[r.kI.required])}),this.newPasswordForm=new r.cw({email:new r.NI(null,[r.kI.required,r.kI.email]),newPassword:new r.NI(null,[r.kI.required,r.kI.pattern(/^(?=[A-Z])(?=(?:[^0-9]*[0-9]){2}).{6,}$/)])})}emailCheck(a){a.valid&&(this._LoadingService.showLoading(),this._AuthenticationService.forgotPasswordMethod(a.value).subscribe({next:t=>{this._LoadingService.removeLoading(),this.isEmailCompleted=!0,this.userEmail=a.get("email")?.value,setTimeout(()=>{this.currentStep++},500),Swal.fire({toast:!0,position:"top-end",showConfirmButton:!1,timerProgressBar:!0,timer:2e3,icon:"success",customClass:{timerProgressBar:"progress-bar"},showClass:{popup:"animate__animated animate__fadeInRightBig"},hideClass:{popup:"animate__animated animate__fadeOutRightBig"},title:`${t.message}`})},error:t=>{this._LoadingService.removeLoading(),Swal.fire({toast:!0,position:"top-end",showConfirmButton:!1,timerProgressBar:!0,timer:4e3,icon:"error",customClass:{timerProgressBar:"progress-bar"},showClass:{popup:"animate__animated animate__fadeInRightBig"},hideClass:{popup:"animate__animated animate__fadeOutRightBig"},title:`${t.error.message}`})}}))}codeCheck(a){a.valid&&(this._LoadingService.showLoading(),this._AuthenticationService.verifyResetCodeMethod(a.value).subscribe({next:t=>{this._LoadingService.removeLoading(),this.isCodeCompleted=!0,setTimeout(()=>{this.currentStep++},500),Swal.fire({toast:!0,position:"top-end",showConfirmButton:!1,timerProgressBar:!0,timer:2e3,icon:"success",customClass:{timerProgressBar:"progress-bar"},showClass:{popup:"animate__animated animate__fadeInRightBig"},hideClass:{popup:"animate__animated animate__fadeOutRightBig"},title:`${t.status} please enter your new password`});let s=this.emailForm.get("email")?.value;s&&this.newPasswordForm.controls.email.setValue(s)},error:t=>{this._LoadingService.removeLoading(),Swal.fire({toast:!0,position:"top-end",showConfirmButton:!1,timerProgressBar:!0,timer:4e3,icon:"error",customClass:{timerProgressBar:"progress-bar"},showClass:{popup:"animate__animated animate__fadeInRightBig"},hideClass:{popup:"animate__animated animate__fadeOutRightBig"},title:`${t.error.message}`})}}))}newPasswordCheck(a){a.valid&&(this._LoadingService.showLoading(),this._AuthenticationService.resetPasswordMethod(a.value).subscribe({next:t=>{this._LoadingService.removeLoading(),this.isPasswordCompleted=!0,setTimeout(()=>{this._Router.navigate(["/login"])},500),Swal.fire({toast:!0,position:"top-end",showConfirmButton:!1,timerProgressBar:!0,timer:2e3,icon:"success",customClass:{timerProgressBar:"progress-bar"},showClass:{popup:"animate__animated animate__fadeInRightBig"},hideClass:{popup:"animate__animated animate__fadeOutRightBig"},title:"Success please login to your account"})},error:t=>{this._LoadingService.removeLoading(),Swal.fire({toast:!0,position:"top-end",showConfirmButton:!1,timerProgressBar:!0,timer:4e3,icon:"error",customClass:{timerProgressBar:"progress-bar"},showClass:{popup:"animate__animated animate__fadeInRightBig"},hideClass:{popup:"animate__animated animate__fadeOutRightBig"},title:`${t.error.message}`})}}))}}return(o=n).\u0275fac=function(a){return new(a||o)(e.Y36(E.$),e.Y36(T.b),e.Y36(Z.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-forgotpassword"]],standalone:!0,features:[e.jDz],decls:47,vars:21,consts:[[3,"linear","selectedIndex"],["stepper",""],["label","Enter your email",3,"editable","completed"],[1,"mt-4",3,"formGroup","ngSubmit"],["appearance","outline",1,"w-100"],["matInput","","formControlName","email"],["matSuffix",""],[4,"ngIf"],["mat-button","",1,"d-block","ms-auto"],["label","Enter the reset code",3,"editable","completed"],["matInput","","formControlName","resetCode"],["label","Enter you new password",3,"editable","completed"],["appearance","outline",1,"w-100","mb-3"],["matInput","","formControlName","newPassword",3,"type"],["type","button","mat-icon-button","","matSuffix","",1,"border-0","bg-transparent","show-password-padding",3,"click"]],template:function(a,t){if(1&a&&(e.TgZ(0,"mat-stepper",0,1)(2,"mat-step",2)(3,"form",3),e.NdJ("ngSubmit",function(){return t.emailCheck(t.emailForm)}),e.TgZ(4,"mat-form-field",4)(5,"mat-label"),e._uU(6,"Email"),e.qZA(),e._UZ(7,"input",5),e.TgZ(8,"mat-icon",6),e._uU(9,"email"),e.qZA(),e.YNc(10,I,2,0,"mat-error",7),e.YNc(11,B,2,0,"mat-error",7),e.qZA(),e.TgZ(12,"div")(13,"button",8),e._uU(14,"Next"),e.qZA()()()(),e.TgZ(15,"mat-step",9)(16,"form",3),e.NdJ("ngSubmit",function(){return t.codeCheck(t.codeForm)}),e.TgZ(17,"mat-form-field",4)(18,"mat-label"),e._uU(19,"Code"),e.qZA(),e._UZ(20,"input",10),e.YNc(21,b,2,0,"mat-error",7),e.qZA(),e.TgZ(22,"div")(23,"button",8),e._uU(24,"Next"),e.qZA()()()(),e.TgZ(25,"mat-step",11)(26,"form",3),e.NdJ("ngSubmit",function(){return t.newPasswordCheck(t.newPasswordForm)}),e.TgZ(27,"mat-form-field",12)(28,"mat-label"),e._uU(29,"Email"),e.qZA(),e._UZ(30,"input",5),e.TgZ(31,"mat-icon",6),e._uU(32,"email"),e.qZA(),e.YNc(33,A,2,0,"mat-error",7),e.YNc(34,F,2,0,"mat-error",7),e.qZA(),e.TgZ(35,"mat-form-field",4)(36,"mat-label"),e._uU(37,"New Password"),e.qZA(),e._UZ(38,"input",13),e.TgZ(39,"button",14),e.NdJ("click",function(){return t.hide=!t.hide}),e.TgZ(40,"mat-icon"),e._uU(41),e.qZA()(),e.YNc(42,S,2,0,"mat-error",7),e.YNc(43,U,2,0,"mat-error",7),e.qZA(),e.TgZ(44,"div")(45,"button",8),e._uU(46,"Next"),e.qZA()()()()()),2&a){let s,f,h,w,C,v,P;e.Q6J("linear",!0)("selectedIndex",t.currentStep),e.xp6(2),e.Q6J("editable",!1)("completed",t.isEmailCompleted),e.xp6(1),e.Q6J("formGroup",t.emailForm),e.xp6(7),e.Q6J("ngIf",null==(s=t.emailForm.get("email"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(f=t.emailForm.get("email"))?null:f.getError("email")),e.xp6(4),e.Q6J("editable",!1)("completed",t.isCodeCompleted),e.xp6(1),e.Q6J("formGroup",t.codeForm),e.xp6(5),e.Q6J("ngIf",null==(h=t.codeForm.get("code"))?null:h.getError("required")),e.xp6(4),e.Q6J("editable",!1)("completed",t.isPasswordCompleted),e.xp6(1),e.Q6J("formGroup",t.newPasswordForm),e.xp6(7),e.Q6J("ngIf",null==(w=t.emailForm.get("email"))?null:w.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(C=t.emailForm.get("email"))?null:C.getError("email")),e.xp6(4),e.Q6J("type",t.hide?"password":"text"),e.xp6(1),e.uIk("aria-label","Hide password"),e.xp6(2),e.Oqu(t.hide?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngIf",null==(v=t.newPasswordForm.get("password"))?null:v.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(P=t.newPasswordForm.get("password"))?null:P.getError("pattern"))}},dependencies:[_.T5,_.C0,_.Vq,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,m.lN,m.KE,m.hX,m.TO,m.R9,g.c,g.Nt,d.Ps,d.Hw,l.ot,l.lW,l.RK,p.ez,p.O5]}),n})()}}]);