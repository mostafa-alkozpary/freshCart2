<mat-stepper [linear]="true" #stepper [selectedIndex]="currentStep">
  <mat-step
    label="Enter your email"
    [editable]="false"
    [completed]="isEmailCompleted"
  >
    <form
      (ngSubmit)="emailCheck(emailForm)"
      [formGroup]="emailForm"
      class="mt-4"
    >
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" />
        <mat-icon matSuffix>email</mat-icon>
        <mat-error *ngIf="emailForm.get('email')?.getError('required')"
          >Please enter you email</mat-error
        >
        <mat-error *ngIf="emailForm.get('email')?.getError('email')"
          >Email is invalid</mat-error
        >
      </mat-form-field>
      <div>
        <button class="d-block ms-auto" mat-button>Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step
    label="Enter the reset code"
    [editable]="false"
    [completed]="isCodeCompleted"
  >
    <form (ngSubmit)="codeCheck(codeForm)" [formGroup]="codeForm" class="mt-4">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Code</mat-label>
        <input matInput formControlName="resetCode" />
        <mat-error *ngIf="codeForm.get('code')?.getError('required')"
          >Please enter the reset code</mat-error
        >
      </mat-form-field>
      <div>
        <button class="d-block ms-auto" mat-button>Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step
    label="Enter you new password"
    [editable]="false"
    [completed]="isPasswordCompleted"
  >
    <form
      (ngSubmit)="newPasswordCheck(newPasswordForm)"
      [formGroup]="newPasswordForm"
      class="mt-4"
    >
      <mat-form-field appearance="outline" class="w-100 mb-3">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email"/>
        <mat-icon matSuffix>email</mat-icon>
        <mat-error *ngIf="emailForm.get('email')?.getError('required')"
          >Please enter you email</mat-error
        >
        <mat-error *ngIf="emailForm.get('email')?.getError('email')"
          >Email is invalid</mat-error
        >
      </mat-form-field>
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>New Password</mat-label>
        <input
          matInput
          [type]="hide ? 'password' : 'text'"
          formControlName="newPassword"
        />
        <button
          type="button"
          class="border-0 bg-transparent show-password-padding"
          mat-icon-button
          matSuffix
          (click)="hide = !hide"
          [attr.aria-label]="'Hide password'"
        >
          <mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
        </button>
        <mat-error *ngIf="newPasswordForm.get('password')?.getError('required')"
          >Please enter you new password</mat-error
        >
        <mat-error *ngIf="newPasswordForm.get('password')?.getError('pattern')"
          >New password is invalid</mat-error
        >
      </mat-form-field>
      <div>
        <button class="d-block ms-auto" mat-button>Next</button>
      </div>
    </form>
  </mat-step>
</mat-stepper>
